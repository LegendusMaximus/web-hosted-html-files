(window.coreWebpackJsonp=window.coreWebpackJsonp||[]).push([[17],{195:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return O}));var i=n(0),r=n.n(i),c=n(53),o=n(24),a=n(241),s=n(238),u=n(328),l=n(240),b=n(89),p=n(251);function f(t,e,n,i,r,c,o){try{var a=t[c](o),s=a.value}catch(u){return void n(u)}a.done?e(s):Promise.resolve(s).then(i,r)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=t=>{let{data:{homepageLink:e,notificationsLink:n,accountLabel:d,signInLabel:m,accessibilityLinks:O,searchLink:h,menuLabel:y,moreLabel:j,closeButtonLabel:v,navigationLinks:L}}=t;const k=g(g({},Object(b.b)()),{},{fontPalette:Object(l.a)().fontPalette}),w="https://account.bbc.com/account",P=Object(o.f)(),{host:I,language:E}=Object(s.b)(),B=!E||"cy"!==E&&"gd"!==E&&"en"!==E||E.endsWith("-GB")?E:"".concat(E,"-GB"),D="https://".concat(I).concat(P.pathname),[S,W]=Object(i.useState)({signedIn:!1,prompt:d,url:w}),_="ckns_id",G=I&&!I.endsWith(".com")?"https://idcta.api.bbc.co.uk/idcta/config":"https://idcta.api.bbc.com/idcta/config";return Object(i.useEffect)((()=>{const t=Object(a.b)(_).ckns_id;(function(){var e,n=(e=function*(){try{const n=yield Object(c.a)(G),i=yield n.json();if("GREEN"===i["id-availability"])if(t)try{const e=JSON.parse(window.atob(t));W({signedIn:!0,prompt:e.dn?e.dn:d,url:w})}catch(e){W({signedIn:!1,prompt:m,url:i.signin_url})}else W({signedIn:!1,prompt:m,url:i.signin_url})}catch(n){W({signedIn:!1,prompt:d,url:w})}},function(){var t=this,n=arguments;return new Promise((function(i,r){var c=e.apply(t,n);function o(t){f(c,i,r,o,a,"next",t)}function a(t){f(c,i,r,o,a,"throw",t)}o(void 0)}))});return function(){return n.apply(this,arguments)}})()()}),[]),r.a.createElement(b.a,{theme:k},r.a.createElement(u.a,{signedIn:S.signedIn,signInPrompt:S.prompt,signInUrl:S.url,signInPtrt:D,language:B,homepageLink:e,notificationsLink:n,accessibilityLinks:O,searchLink:h,menuLabel:y,moreLabel:j,closeButtonLabel:v,footerNavigationId:p.a,items:L}))}}}]);